(this["webpackJsonpfispan-app"]=this["webpackJsonpfispan-app"]||[]).push([[0],{178:function(t,e,n){},180:function(t,e,n){},181:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(18),s=n.n(a),o=n(36),u=n(186),i=n(184),j=n(127),l=n(188),f=n(187),b=n(43),h=n.n(b),d=n(84),p=n(85),O=n.n(p),g=n(58),x=n.n(g),y="https://api.frankfurter.app",v=function(){var t=Object(d.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat(y,"/currencies"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Cannot get currencies");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(d.a)(h.a.mark((function t(e,n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat(y,"/latest?from=").concat(e,"&to=").concat(n));case 3:return c=t.sent,t.abrupt("return",c.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Cannot get latest rate");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),C=function(){var t=Object(d.a)(h.a.mark((function t(e,n){var c,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=x()().format("yyyy-MM-DD"),r=x()().subtract(30,"days").format("yyyy-MM-DD"),t.next=5,O.a.get("".concat(y,"/").concat(r,"..").concat(c,"?from=").concat(e,"&to=").concat(n));case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t.catch(0),new Error("Cannot get past 30 days rate");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),w=n(44),k=(n(174),n(9)),D=function(t){var e=t.chartData;return e.length?Object(k.jsxs)(w.e,{xType:"time",width:1e3,height:500,margin:{left:60,right:10,top:10,bottom:100},children:[Object(k.jsx)(w.c,{}),Object(k.jsx)(w.a,{}),Object(k.jsx)(w.d,{title:"Date",tickLabelAngle:-45,tickFormat:function(t){return x()(t).format("DD-MM-YYYY")}}),Object(k.jsx)(w.f,{title:"Rate",tickLabelAngle:-45}),Object(k.jsx)(w.b,{data:e,strokeWidth:2})]}):Object(k.jsx)(k.Fragment,{})},F=n(185),S=F.a.Option,M=function(t){var e=t.selectedCurrency,n=t.currencies,c=t.setCurrency;return Object(k.jsx)(F.a,{style:{margin:10},defaultValue:e,onChange:function(t){c(t)},children:n.map((function(t,e){return Object(k.jsx)(S,{value:t,children:t},"".concat(e,"_").concat(t))}))})},A=(n(177),n(178),u.a.Header),E=u.a.Content,T=i.a.Title,B=i.a.Paragraph,L=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)("CAD"),s=Object(o.a)(a,2),i=s[0],b=s[1],h=Object(c.useState)("USD"),d=Object(o.a)(h,2),p=d[0],O=d[1],g=Object(c.useState)(0),x=Object(o.a)(g,2),y=x[0],w=x[1],F=Object(c.useState)(0),S=Object(o.a)(F,2),L=S[0],Y=S[1],I=Object(c.useState)(!0),P=Object(o.a)(I,2),J=P[0],H=P[1],N=Object(c.useState)([]),R=Object(o.a)(N,2),U=R[0],V=R[1];Object(c.useEffect)((function(){v().then((function(t){r(Object.keys(t))})).catch((function(t){var e=t.message;W(e)}))}),[]),Object(c.useEffect)((function(){m(i,p).then((function(t){w(t.rates[p])})).catch((function(t){var e=t.message;W(e)})),C(i,p).then((function(t){V(Object.entries(t.rates).map((function(t){var e=Object(o.a)(t,2),n=e[0],c=e[1];return{x:new Date(n),y:c[p]}}))),Y(function(t,e){var n=Object.values(e).map((function(e){return e[t]})).sort(),c=Math.floor(n.length/2);return+(c%2===0?(n[c-1]+n[c])/2:n[c]).toFixed(4)}(p,t.rates))})).catch((function(t){var e=t.message;W(e)}))}),[i,p]);var W=function(t){j.b.error(t)};return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(u.a,{children:[Object(k.jsx)(A,{children:Object(k.jsx)(T,{style:{color:"#FFFFFF",textAlign:"center"},children:"Currency Conversion App"})}),Object(k.jsx)(E,{style:{padding:10,display:"flex",justifyContent:"center"},children:Object(k.jsxs)(l.b,{direction:"vertical",align:"center",children:[Object(k.jsxs)(B,{children:["1",Object(k.jsx)(M,{selectedCurrency:i,currencies:n,setCurrency:b}),"is ",y,Object(k.jsx)(M,{selectedCurrency:p,currencies:n,setCurrency:O})]}),Object(k.jsxs)(B,{children:["The rate median of ",i," to ",p," for the last 30 days is ",L]}),Object(k.jsx)(f.a,{defaultChecked:J,checkedChildren:"Buy",unCheckedChildren:"Sell",onChange:function(){H((function(t){return!t}))},style:{marginBottom:10}}),Object(k.jsxs)(B,{children:["It's ",y===L?"not good":y<L?J?"good":"not good":J?"not good":"good"," to ",J?"buy":"sell"]}),Object(k.jsx)(D,{chartData:U})]})})]})})},Y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};n(180);s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(L,{})}),document.getElementById("root")),Y()}},[[181,1,2]]]);
//# sourceMappingURL=main.0cf28ecc.chunk.js.map