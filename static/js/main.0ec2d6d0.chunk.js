(this["webpackJsonpfispan-app"]=this["webpackJsonpfispan-app"]||[]).push([[0],{178:function(t,e,n){},180:function(t,e,n){},181:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(18),s=n.n(a),o=n(36),u=n(186),i=n(184),j=n(127),l=n(188),b=n(187),f=n(43),h=n.n(f),d=n(84),p=n(85),O=n.n(p),x=n(58),y=n.n(x),g="https://api.frankfurter.app",v=function(){var t=Object(d.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat(g,"/currencies"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Cannot get currencies");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(d.a)(h.a.mark((function t(e,n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat(g,"/latest?from=").concat(e,"&to=").concat(n));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Cannot get latest rate");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),C=function(){var t=Object(d.a)(h.a.mark((function t(e,n){var r,c,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=y()().format("yyyy-MM-DD"),c=y()().subtract(30,"days").format("yyyy-MM-DD"),t.next=5,O.a.get("".concat(g,"/").concat(c,"..").concat(r,"?from=").concat(e,"&to=").concat(n));case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t.catch(0),new Error("Cannot get past 30 days rate");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),w=n(44),k=(n(174),n(9)),D=function(t){var e=t.chartData;return e.length?Object(k.jsxs)(w.e,{xType:"time",width:1e3,height:500,margin:{left:60,right:10,top:10,bottom:100},children:[Object(k.jsx)(w.c,{}),Object(k.jsx)(w.a,{}),Object(k.jsx)(w.d,{title:"Date",tickLabelAngle:-45,tickFormat:function(t){return y()(t).format("DD-MM-YYYY")}}),Object(k.jsx)(w.f,{title:"Rate",tickLabelAngle:-45}),Object(k.jsx)(w.b,{data:e,strokeWidth:2})]}):Object(k.jsx)(k.Fragment,{})},S=n(185),F=S.a.Option,M=function(t){var e=t.selectedCurrency,n=t.currencies,r=t.setCurrency;return Object(k.jsx)(S.a,{style:{margin:10},defaultValue:e,onChange:function(t){r(t)},children:n.map((function(t,e){return Object(k.jsx)(F,{value:t,children:t},"".concat(e,"_").concat(t))}))})},A=(n(177),n(178),u.a.Header),E=u.a.Content,Y=i.a.Title,B=i.a.Paragraph,T=function(){var t=Object(r.useState)([]),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)("CAD"),s=Object(o.a)(a,2),i=s[0],f=s[1],h=Object(r.useState)("USD"),d=Object(o.a)(h,2),p=d[0],O=d[1],x=Object(r.useState)(0),y=Object(o.a)(x,2),g=y[0],w=y[1],S=Object(r.useState)(0),F=Object(o.a)(S,2),T=F[0],I=F[1],J=Object(r.useState)(!0),L=Object(o.a)(J,2),H=L[0],N=L[1],P=Object(r.useState)([]),R=Object(o.a)(P,2),U=R[0],V=R[1];Object(r.useEffect)((function(){v().then((function(t){c(Object.keys(t))})).catch((function(t){var e=t.message;W(e)}))}),[]),Object(r.useEffect)((function(){m(i,p).then((function(t){w(t.rates[p])})).catch((function(t){var e=t.message;W(e)})),C(i,p).then((function(t){V(Object.entries(t.rates).map((function(t){var e=Object(o.a)(t,2),n=e[0],r=e[1];return{x:new Date(n),y:r[p]}}))),I(function(t,e){var n=Object.values(e).map((function(e){return e[t]})).sort(),r=Math.floor(n.length/2);return+(r%2===0?(n[r-1]+n[r])/2:n[r]).toFixed(4)}(p,t.rates))})).catch((function(t){var e=t.message;W(e)}))}),[i,p]);var W=function(t){j.b.error(t)};return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(u.a,{children:[Object(k.jsx)(A,{children:Object(k.jsx)(Y,{style:{color:"#FFFFFF",textAlign:"center"},children:"Currency Conversion App"})}),Object(k.jsx)(E,{style:{padding:10,display:"flex",justifyContent:"center"},children:Object(k.jsxs)(l.b,{direction:"vertical",align:"center",children:[Object(k.jsxs)(B,{children:["1",Object(k.jsx)(M,{selectedCurrency:i,currencies:n,setCurrency:f}),"is ",g,Object(k.jsx)(M,{selectedCurrency:p,currencies:n,setCurrency:O})]}),Object(k.jsxs)(B,{children:["The rate median of ",i," to ",p," for the last 30 days is ",T]}),Object(k.jsx)(b.a,{defaultChecked:H,checkedChildren:"Buy",unCheckedChildren:"Sell",onChange:function(){N((function(t){return!t}))},style:{marginBottom:10}}),Object(k.jsxs)(B,{children:["It's ",g===T?"not good":g<T?H?"good":"not good":H?"not good":"good"," to ",H?"buy":"sell"]}),Object(k.jsx)(D,{chartData:U})]})})]})})};n(180);s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(T,{})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.0ec2d6d0.chunk.js.map